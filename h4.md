## h4 Maailma kuulee

### x) Lue ja tiivistä. Tiivistelmäksi riittää muutama ranskalainen viiva per artikkeli. (Tässä alakohdassa ei tarvitse tehdä testejä tietokoneella)

https://terokarvinen.com/2017/first-steps-on-a-new-virtual-private-server-an-example-on-digitalocean/
<br>
https://susannalehto.fi/2022/teoriasta-kaytantoon-pilvipalvelimen-avulla-h4/

- Kun palomuurin asetuksia määritellään, pitää varmistaa SSH portin aukiolo, jottei lukitse itseään ulos.
- Varmista myös että pääset uudella käyttäjätunnuksella sisälle uudessa terminaalin välilehdessä
- Root tunnuksen lukitseminen on erityisen tärkeää tietoturvan kannalta
- Pitää muistaa ajaa apt-get update ja upgrade (jos Debian pohjaisella distrolla) jotta mahdolliset tietoturva-aukot voidaan paikata päivityksillä.


### a) Vuokraa oma virtuaalipalvelin haluamaltasi palveluntarjoajalta. (Vaihtoehtona voit käyttää ilmaista kokeilujaksoa, GitHub Education krediittejä; tai jos mikään muu ei onnistu, voit kokeilla ilmaiseksi vagrant:ia paikallisesti. Suosittelen kuitenkin harjoittelemaan oikeilla, tuotantoon kelpaavilla julkisilla palveluilla).

Virtuaalipalvelin vuokrattu kotimaiselta UpCloud tarjoajalta. Sekä siihen valittiin käyttöjärjestelmäksi Debian 13.

<img width="600" height="120" alt="image" src="https://github.com/user-attachments/assets/25cd74e8-fdc3-45fd-b838-633d734becf2" />

### b) Tee alkutoimet omalla virtuaalipalvelimellasi: tulimuuri päälle, root-tunnus kiinni, ohjelmien päivitys.

 - Palveimelle luotiin käyttäjä "sona2k"
 - Käyttäjälle "sona2k" annettiin sudo oikeudet
 - Palvelimelle luotiin piiloitettu .ssh/ hakemisto, minne tallennettiin sallitut SSH avaimet.
 - Käyttäjä "sona2k" määriteltiin .ssh/ hakemiston omistajaksi, sekä muutettiin asetukset niin, että käyttäjä "sona2k" on ainoa jolla on pääsy nähdä tai muokata tiedostoja hakemistossa.
 - Lopuksi root käyttäjä lukittiin

 
<img width="400" height="185" alt="Screenshot From 2026-02-03 16-49-59" src="https://github.com/user-attachments/assets/f61b9917-631c-40df-9897-4f2f1fce2bb1" />



<img width="410" height="50" alt="Screenshot From 2026-02-03 16-54-53" src="https://github.com/user-attachments/assets/1c90473f-35f1-4879-86ac-8cefb9d8e24d" />

- Palomuuri asennettu sekä kaikki liikenne blokattu, poikkeuksena SSH, HTTP ja HTTPS


<img width="500" height="250" alt="Screenshot From 2026-02-09 13-53-15" src="https://github.com/user-attachments/assets/c8cf3a5b-4d39-4d94-a329-ee735efbd5ef" />





### c) Asenna weppipalvelin omalle virtuaalipalvelimellesi. Korvaa testisivu. Kokeile, että se näkyy julkisesti. Kokeile myös eri koneelta, esim kännykältä. (Jos haluat tehdä oikeat weppisivut, tarvitset Name Based Virtual Hostin) 

### + d) Vapaaehtoinen: Laita omalle julkiselle palvelimellesi uusi Name Based Virtual Host. Kun sammutat muut weppisivut, niin se ainut näkyy nimestä riippumatta etusivulla. Name Based Virtual Host avulla pääset muokkaamaan kotisivuja normaalilla käyttäjällä, ilman sudoa.

- Apache2 asennettu

<img width="500" height="500" alt="Screenshot From 2026-02-09 14-14-20" src="https://github.com/user-attachments/assets/649a8724-aa33-4d71-b26e-acddf91c0f31" />

- Palvelimelle luotu standardisoitu hakemistopolku /var/www/sona2k-site/public-html/ sekä index.html tiedosto
- Käyttäjälle "sona2k" annettu oikeudet muokata "public-html" hakemistoa
- Palvelimelle luotu .conf tiedosto Apachen asetuksiin hakemistoon /etc/apache2/sites-availible/sona2k-site.conf

<img width="500" height="500" alt="Screenshot From 2026-02-09 21-30-40" src="https://github.com/user-attachments/assets/d5c2667d-9485-4dd8-acda-7374eec4968e" />

- .conf tiedoston asetukset

<img width="500" height="500" alt="Screenshot From 2026-02-09 21-42-41" src="https://github.com/user-attachments/assets/ab006ea2-cd06-4299-9185-4cde157e8ab9" />

Tämän jälkeen default sivu kytkettiin pois päältä, sekä aktivoitiin sona2k-site. Lopuksi Apache käynnistettiin uudelleen.

- `sudo a2dissite 000-default.conf`
- `sudo a2ensite sona2k-site.conf`
- `sudo systemctl restart apache2`

  
HTML sivu näkyy maailmalle
<br>
<img width="1150" height="307" alt="Screenshot From 2026-02-09 21-38-55" src="https://github.com/user-attachments/assets/65e32fe1-9cc7-4284-92af-98f7face8e37" />

